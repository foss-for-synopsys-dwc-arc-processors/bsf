{
  "hs_baremetal_tests": {
    "pre_condition": [
      "test -d $var(@SOURCE)/arc-gnu-toolchain/.git",
      "test -d $var(@SOURCE)/toolchain/.git",
      "which arc-elf32-gcc",
      "which qemu-system-arc"
    ],
    "execute": [
      "erb gcc_dir=$var(@SOURCE)/arc-gnu-toolchain/gcc/ toolchain_tripplet=arc-unknown-elf32 target_alias=arc-elf32 target_list=arc-sim-qemu toolchain_dir=$var(@SOURCE)/toolchain $var(@CONFIG_SOURCE_PATH)/baremetal_qemu.siteexp.erb > $var(@WORKSPACE)/site.exp",
      "mkdir -p $var(@WORKSPACE)/tmp ; mkdir -p $var(@WORKSPACE)/dump1 ; mkdir -p $var(@WORKSPACE)/dump2",
      "QEMU_HOME=$(dirname $(which qemu-system-arc))/../ runtest dg.exp ; echo ''",
      "mkdir -p $var(@PERSISTENT_WS) ; cp $var(@WORKSPACE)/gcc.sum $var(@WORKSPACE)/gcc.log $var(@PERSISTENT_WS)",
      "cp $(dirname $(which arc-elf32-gcc))/../versions.json $var(@WORKSPACE)/toolchain_baremetal_arc.json",
      "cp $(dirname $(which qemu-system-arc))/../versions.json $var(@WORKSPACE)/qemu.json"
    ],
    "publish_header": [
      "cat $var(@WORKSPACE)/toolchain_baremetal_arc.json",
      "cat $var(@WORKSPACE)/qemu.json"
    ],
    "comparator": "ruby $var(@CONFIG_SOURCE_PATH)/sum_compare.rb -v $var(@BASELINE)/gcc.sum $var(@REFERENCE)/gcc.sum"
  },
  "hs_linux_user_tests": {
    "pre_condition": [
      "test -d $var(@SOURCE)/arc-gnu-toolchain/.git",
      "test -d $var(@SOURCE)/toolchain/.git",
      "which arc-linux-gnu-gcc",
      "which qemu-system-arc"
    ],
    "execute": [
      "erb gcc_dir=$var(@SOURCE)/arc-gnu-toolchain/gcc/ toolchain_tripplet=arc-linux-gnu target_alias=arc-linux-gnu target_list=arc-linux-qemu-user toolchain_dir=$var(@SOURCE)/toolchain qemu_opts=\"-L $(dirname $(which arc-linux-gnu-gcc))/../sysroot\"  $var(@CONFIG_SOURCE_PATH)/linux_qemu_user.siteexp.erb > $var(@WORKSPACE)/site.exp",
      "mkdir -p $var(@WORKSPACE)/tmp ; mkdir -p $var(@WORKSPACE)/dump1 ; mkdir -p $var(@WORKSPACE)/dump2",
      "QEMU_HOME=$(dirname $(which qemu-system-arc))/../ runtest dg.exp ; echo ''",
      "mkdir -p $var(@PERSISTENT_WS) ; cp $var(@WORKSPACE)/gcc.sum $var(@WORKSPACE)/gcc.log $var(@PERSISTENT_WS)",
      "cp $(dirname $(which arc-linux-gnu-gcc))/../versions.json $var(@WORKSPACE)/toolchain_linux_arc.json",
      "cp $(dirname $(which qemu-system-arc))/../versions.json $var(@WORKSPACE)/qemu.json"
    ],
    "publish_header": [
      "cat $var(@WORKSPACE)/toolchain_linux_arc.json",
      "cat $var(@WORKSPACE)/qemu.json"
    ],
    "comparator": "ruby $var(@CONFIG_SOURCE_PATH)/sum_compare.rb -v $var(@BASELINE)/gcc.sum $var(@REFERENCE)/gcc.sum"
  },
  "hs_linux_tests_outdated": {
    "pre_condition": [
      "test -d $var(SOURCE_GCC_ARCV2)/.git",
      "test -d $var(SOURCE_ARCV2)/.git",
      "which arc-linux-gnu-gcc",
      "which $var(QEMU_HOME)/bin/qemu-system-arc"
    ],
    "execute": [
      "erb gcc_dir=$var(SOURCE_GCC_ARCV2)/gcc/ toolchain_tripplet=arc-linux-gnu target_alias=arc-linux-gnu target_list=arc-linux-qemu toolchain_dir=$var(SOURCE_ARCV2) $var(@CONFIG_SOURCE_PATH)/linux_qemu.siteexp.erb > $var(@WORKSPACE)/site.exp",
      "mkdir -p $var(@WORKSPACE)/tmp ; mkdir -p $var(@WORKSPACE)/dump1 ; mkdir -p $var(@WORKSPACE)/dump2",
      "QEMU_HOME=$var(QEMU_HOME) ARC_MULTILIB_OPTIONS='cpu=archs' TARGET_TELNET_PORT=$var(PORT_PREFIX)6 TARGET_FTP_PORT=$var(PORT_PREFIX)5 runtest dg.exp"
    ]
  },
  "arc64_baremetal_tests_outdated": {
    "pre_condition": [
      "test -d $var(SOURCE_ARCV3)/.git",
      "which arc64-elf-gcc",
      "which $var(QEMU_HOME)/bin/qemu-system-arc"
    ],
    "execute": [
      "erb gcc_dir=$var(SOURCE_ARCV3)/gcc toolchain_tripplet=arc64-unknown-elf target_alias=arc64-elf target_list=arc-sim-qemu toolchain_dir=$var(SOURCE_ARCV3) $var(@CONFIG_SOURCE_PATH)/baremetal_qemu.siteexp.erb > $var(@WORKSPACE)site.exp",
      "mkdir -p $var(@WORKSPACE)/tmp ; mkdir -p $var(@WORKSPACE)/dump1 ; mkdir -p $var(@WORKSPACE)/dump2",
      "QEMU_HOME=$var(QEMU_HOME) runtest dg.exp"
    ]
  }
}
